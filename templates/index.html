{% extends "base.html" %}

{% block title %}Home - Flask Tailwind Project{% endblock %}

{% block content %}
<div class="p-4">
  <h1 class="text-2xl font-bold">Welcome to the Flask Tailwind Project</h1>
  <p class="mt-2">
    This page supports both dark and light modes using Tailwind CSS.
  </p>
  <button class="bg-blue-500 text-white py-2 px-4 rounded-lg" id="showPopupBtn">Add Assignment</button>
        <!-- Overlay -->
    <div class="fixed inset-0 bg-black bg-opacity-50 hidden" id="overlay"></div>

    <!-- Popup -->
    <div class="fixed inset-0 flex items-center justify-center hidden" id="popup">
      <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full">
        <h2 class="text-black font-semibold mb-4 text-black">Upload description</h2>
        <form action="/upload_description" method="POST" enctype="multipart/form-data">
          <div class="mb-4">
            <label for="assignment_file" class="block text-sm font-medium text-gray-700">Upload description</label>
            <input type="file" id="assignment_file" name="assignment_file" class="w-full px-3 py-2 border border-gray-300 rounded-lg" accept=".pdf" required />
          </div>
          <button type="submit" class="bg-green-500 text-white py-2 px-4 rounded-lg">Submit</button>
        </form>
        <button class="bg-red-500 text-white py-2 px-4 rounded-lg mt-4" id="closePopupBtn">Close</button>
      </div>
    </div>
  <!-- Button to Grading Dashboard -->
  <a href="{{ url_for('grading_dashboard') }}"
     class="inline-block mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
    Go to Grading Dashboard
  </a>

</div>
<script>
  // Get elements
  const showPopupBtn = document.getElementById('showPopupBtn');
  const closePopupBtn = document.getElementById('closePopupBtn');
  const popup = document.getElementById('popup');
  const overlay = document.getElementById('overlay');

  // Show popup when button is clicked
  showPopupBtn.addEventListener('click', () => {
    console.log("Show Popup Button Clicked");
    popup.classList.remove('hidden');
    overlay.classList.remove('hidden');
  });

  // Close popup when close button or overlay is clicked
  closePopupBtn.addEventListener('click', () => {
    console.log("Close Popup Button Clicked");
    popup.classList.add('hidden');
    overlay.classList.add('hidden');
  });

  overlay.addEventListener('click', () => {
    console.log("Overlay Clicked");
    popup.classList.add('hidden');
    overlay.classList.add('hidden');
  });
</script>

{% endblock %}
